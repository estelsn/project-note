<html layout:decorate="~{layout}">
	<head>
		<link rel="stylesheet" type="text/css" th:href="@{/approvalList.css}">
		<script>
			$(function(){
				var type = $('#type').val();
				if(type === "personal"){
					$(".personal").css({"background-color":"rgb(32, 62, 110)","color":"#fff"});
				}else if(type === "group"){
					$(".group").css({"background-color":"rgb(32, 62, 110)","color":"#fff"});
				}
			});
		</script>
		<title>카트 리스트</title>
	</head>
	<div layout:fragment="content" class="container">
		<div class="list">
			<input type="text" style="display: none;" th:value="${type}" id="type">
		  	<ul> 
		    	<li class="page-item"><a class="page-link personal" th:href="@{?type=personal}">개인별</a></li>
		    	<li class="page-item"><a class="page-link group" th:href="@{?type=group}">부서별</a></li>
		  	</ul>
		</div><!-- tab end -->
		<table class="table table-scriped-columns table-hover align-middle">
			<thead>
				<tr>
					<th>제목</th>
					<th>가격</th>
					<td align="center" colspan="3">수량</td>
					
					<th>추가날짜</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="cart : ${cartList}">
					<td><a th:href="@{|/welfaremall/detail/${cart.product.productId}|}" th:text="${cart.product.productName}"></a></td>
					<td th:text="${cart.point}"></td>
					
					<td><button class="btn btn-danger btn-sm" data-bs-target="#DeleteCart" data-bs-toggle="modal">-</button></td>
					<td th:text="${cart.quantity}"></td>
					<td><button class="btn btn-success btn-sm" data-bs-target="#AddCart" data-bs-toggle="modal">+</button></td>
					
					<td th:text="${#temporals.format(cart.addDate,'MM.dd HH:mm')}"></td>
					<!-- 모달 deleteCart -->
					<div class="modal fade" id="DeleteCart" tabindex="-1" data-bs-backdrop="static" aria-labelledby="ModalCartDeleteLabel" aria-hidden="true" data-bs-keyboard="false">
						<div class="modal-dialog">
							<div class="modal-content">
								<div class="modal-header">
									<h5 class="moal-title" id="ModalCartDeleteLabel">선택</h5>
									<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
								</div>
								<div class="modal-body"></div>
								<div class="modal-footer">
									<a type="button" class="btn btn-secondary" th:href="@{|/welfaremall/deleteCart/${cart.product.productId}?to=list|}">List</a>
									<a type="button" class="btn btn-secondary" th:href="@{|/welfaremall/deleteCart/${cart.product.productId}?to=cart|}">Cart</a>
								</div>
							</div>
						</div>
					</div>
					<!-- 모달 AddCart -->
					<div class="modal fade" id="AddCart" tabindex="-1" data-bs-backdrop="static" aria-labelledby="ModalCartAddLabel" aria-hidden="true" data-bs-keyboard="false">
						<div class="modal-dialog">
							<div class="modal-content">
								<div class="modal-header">
									<h5 class="moal-title" id="ModalCartAddLabel">선택</h5>
									<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
								</div>
								<div class="modal-body"></div>
								<div class="modal-footer">
									<a type="button" class="btn btn-secondary" th:href="@{|/welfaremall/addCart/${cart.product.productId}?to=list|}">List</a>
									<a type="button" class="btn btn-secondary" th:href="@{|/welfaremall/addCart/${cart.product.productId}?to=cart|}">Cart</a>
								</div>

							</div>
						</div>
					</div>
					
				</tr>
			</tbody>
		</table><!-- 카트 리스트 end -->
		<div>
			<a th:href="@{/welfaremall/purchase}" class="create">
				<img src="/images/purchase.png" alt="카트">
			</a>
		</div>
	</div>
</html>